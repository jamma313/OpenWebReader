<?php   
    if(!$sort || 'news.pubDate' === $sort || 'news_relations.status' === $sort)
    {
        $nextdir = (!$dir || $dir === 'asc' ? 'desc' : 'asc');
    }
    else
    {
        $nextdir = (!$dir || $dir === 'desc' ? 'asc' : 'desc'); 
    }
?>
<div class="news_ordering">
    <a href="javascript:;" class="read_page left backgrounded opac" onclick="rP.updateNews('page');" title="<?php echo $this->_utilities->_('Mark all the news of this page as read');?>"></a>
    <a href="javascript:;" class="read_page right backgrounded opac" onclick="rP.updateNews('page');" title="<?php echo $this->_utilities->_('Mark all the news of this page as read');?>"></a>
    
    <?php echo $this->_utilities->_('Order by');?> : 
    <a class="underlined" href="javascript:;" title="<?php echo $this->_utilities->_('Order by').' '.$this->_utilities->_('title');?>" onclick="rP.showStream(rP.currentId, 'title', '<?php echo (($sort === 'news.title') ? $nextdir : 'asc');?>');"><?php echo (($sort === 'news.title') ? '<strong>'.$this->_utilities->_('title').'</strong>' : $this->_utilities->_('title'));?></a>&nbsp;-&nbsp;<a class="underlined" href="javascript:;" title="<?php echo $this->_utilities->_('Order by').' '.$this->_utilities->_('pubDate');?>" onclick="rP.showStream(rP.currentId, 'pubDate', '<?php echo (($sort === 'news.pubDate') ? $nextdir : 'desc');?>');"><?php echo ((!$sort || $sort === 'news.pubDate') ? '<strong>'.$this->_utilities->_('pubDate').'</strong>' : $this->_utilities->_('pubDate'));?></a>&nbsp;-&nbsp;<a class="underlined" href="javascript:;" title="<?php echo $this->_utilities->_('Order by').' '.$this->_utilities->_('status');?>" onclick="rP.showStream(rP.currentId, 'status', '<?php echo (($sort === 'news_relations.status') ? $nextdir : 'desc');?>');"><?php echo (($sort === 'news_relations.status') ? '<strong>'.$this->_utilities->_('status').'</strong>' : $this->_utilities->_('status'));?></a><?php echo '&nbsp;/&nbsp;'.(!$sort || !$dir || $nextdir === 'asc' ? '↓' : '↑');?>
    
<?php   if($nbNews > 10) {
            $nbPages = ceil($nbNews/10);
            if($offset > 0) { 
                $prev_offset = $offset - 1;
?>
    <div class="pager left">
        <a href="javascript:;" onclick="rP.moveToPage('prev');" title="<?php echo $this->_utilities->_('Move to page').' '.$offset; ?>"><span class="small"><?php echo $offset.'/'.$nbPages;?></span></a>
        <a href="javascript:;" class="pager_left left backgrounded opac" title="<?php echo $this->_utilities->_('Move to page').' '.$offset;?>" onclick="rP.moveToPage('prev');"></a>
    </div>
<?php       }
         
            $next_offset = $offset + 1;
            if($next_offset < $nbPages) {
                $next_next_offset = $next_offset + 1;
?>
    <div class="pager right">
        <a href="javascript:;" title="<?php echo $this->_utilities->_('Move to page').' '.$next_next_offset; ?>" onclick="rP.moveToPage('next');"><span class="small"><?php echo $next_next_offset.'/'.$nbPages;?></span></a>
        <a href="javascript:;" class="pager_right right backgrounded opac" title="<?php echo $this->_utilities->_('Move to page').' '.$next_next_offset; ?>" onclick="rP.moveToPage('next');"></a>
    </div>
<?php       }
        } ?>
</div>